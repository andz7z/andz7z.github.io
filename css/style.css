/*
 * STYLE.CSS
 * Global Styles, Variables, Fonts, and Core UI
 */

/* 1. Font Definitions */
@font-face {
    font-family: 'Noverich';
    src: url('../assets/fonts/noverich.otf') format('opentype');
    font-weight: normal;
    font-style: normal;
}

@font-face {
    font-family: 'Roboto';
    src: url('../assets/fonts/roboto.ttf') format('truetype');
    font-weight: 300;
}

@font-face {
    font-family: 'Roboto';
    src: url('../assets/fonts/roboto.ttf') format('truetype'); /* Assuming one file, using it for regular */
    font-weight: 400;
}

/* 2. CSS Variables (Design System) */
:root {
    /* Fonts */
    --font-title: 'Noverich', serif;
    --font-text: 'Roboto', sans-serif;

    /* Color Palette */
    --color-black: #000000;
    --color-dark-gray: #222222;
    --color-med-gray: #666666;
    --color-light-gray: #aaaaaa;
    --color-very-light-gray: #eeeeee;
    --color-white: #ffffff;
    --color-glass-dark: rgba(0, 0, 0, 0.4);
    --color-glass-frost: rgba(255, 255, 255, 0.05);

    /* Gradients */
    --gradient-metallic: linear-gradient(90deg, #888 0%, #eee 50%, #888 100%);
    --gradient-metallic-hover: linear-gradient(90deg, #aaa 0%, #fff 50%, #aaa 100%);

    /* Transitions & Easing */
    --ease-in-out-cubic: cubic-bezier(0.645, 0.045, 0.355, 1);
    --ease-out-quint: cubic-bezier(0.23, 1, 0.32, 1);
    --ease-liquid: cubic-bezier(0.25, 0.1, 0.25, 1); /* For "liquid" feel */
    
    --transition-smooth: all 0.4s var(--ease-in-out-cubic);
    --transition-burger: all 0.5s var(--ease-out-quint);
    --transition-color: background-color 0.6s var(--ease-in-out-cubic);
}

/* 3. Global Resets & Body */
*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    scroll-behavior: smooth;
    background-color: var(--color-black); /* Base background */
}

body {
    font-family: var(--font-text);
    overflow-x: hidden;
    /* This will be set on the sections, but a fallback */
    color: var(--color-white); 
    opacity: 0; /* Fade in on load */
    animation: fadeInBody 1.5s var(--ease-out-quint) 0.5s forwards;
}

/* Body fade-in */
@keyframes fadeInBody {
    to {
        opacity: 1;
    }
}

/* Class to prevent scroll when menu is open */
body.no-scroll {
    overflow: hidden;
}

/* 4. Scroll Progress Bar */
.progress-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px;
    z-index: 1000;
    background-color: transparent;
}

.progress-bar {
    height: 100%;
    width: 0;
    background: var(--gradient-metallic);
    transition: width 0.1s linear; /* Smooth fill */
}

/* 5. Burger Menu Icon */
.burger-menu-icon {
    position: fixed;
    top: 25px;
    left: 25px;
    width: 30px;
    height: 24px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    cursor: pointer;
    z-index: 1002;
    transition: transform 0.3s var(--ease-liquid);
}

.burger-menu-icon:hover {
    transform: scale(1.1);
}

.burger-menu-icon span {
    width: 100%;
    height: 3px;
    background-color: var(--color-white); /* Default: white on dark */
    border-radius: 3px;
    transition: var(--transition-burger), var(--transition-color);
    transform-origin: center;
}

/* Dynamic color change via JS */
.burger-menu-icon.is-light span {
    background-color: var(--color-black); /* Black on light */
}

/* Burger 'X' animation */
.burger-menu-icon.is-active span:nth-child(1) {
    transform: translateY(10.5px) rotate(45deg);
}
.burger-menu-icon.is-active span:nth-child(2) {
    opacity: 0;
    transform: scaleX(0.5);
}
.burger-menu-icon.is-active span:nth-child(3) {
    transform: translateY(-10.5px) rotate(-45deg);
}

/* 6. Frosted Glass Navigation */
.main-nav {
    position: fixed;
    inset: 0; /* 0 0 0 0 */
    z-index: 1001;
    
    /* Frosted Glass */
    background-color: var(--color-glass-frost);
    backdrop-filter: blur(25px) saturate(180%);
    -webkit-backdrop-filter: blur(25px) saturate(180%);

    /* Liquid "Surprise Me" Animation */
    opacity: 0;
    clip-path: circle(0% at 40px 40px);
    transition: opacity 0.7s var(--ease-out-quint), 
                clip-path 0.8s var(--ease-out-quint);
    pointer-events: none;
    
    display: grid;
    place-items: center;
}

.main-nav.is-active {
    opacity: 1;
    clip-path: circle(150% at 40px 40px); /* Expands from burger */
    pointer-events: auto;
}

.main-nav ul {
    list-style: none;
    text-align: center;
}

.main-nav li {
    /* Staggered fade-in animation */
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.5s var(--ease-out-quint), 
                transform 0.5s var(--ease-out-quint);
    transition-delay: calc(0.05s * var(--i)); /* JS will set --i */
}

.main-nav.is-active li {
    opacity: 1;
    transform: translateY(0);
}

.main-nav a {
    display: inline-block;
    padding: 15px 30px;
    font-family: var(--font-title);
    font-size: 5vh;
    color: var(--color-white);
    text-decoration: none;
    position: relative;
    overflow: hidden;
    transition: color 0.3s;
}

/* Hover "Surprise Me": Metallic reflection */
.main-nav a::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: var(--gradient-metallic-hover);
    opacity: 0.6;
    transform: skewX(-30deg);
    transition: left 0.6s var(--ease-liquid);
}

.main-nav a:hover {
    color: var(--color-white); /* Keep it white, reflection does the work */
}

.main-nav a:hover::before {
    left: 100%;
}

/* 7. Global Section Styles */
.section {
    width: 100%;
    height: 100vh; /* Full viewport height */
    display: grid;
    place-items: center;
    position: relative;
    overflow: hidden;
    /* For 3D parallax effect */
    perspective: 1000px;
}

.section-title {
    font-family: var(--font-title);
    font-size: clamp(3rem, 10vw, 12rem);
    font-weight: normal;
    text-align: center;
    position: relative;
    
    /* 3D Depth "Surprise Me" */
    transform-style: preserve-3d;
    transition: transform 0.5s var(--ease-liquid);
    
    /* Fade in on scroll (JS) */
    opacity: 0;
    transform: translateY(50px);
    transition: opacity 1s var(--ease-out-quint), 
                transform 1s var(--ease-out-quint);
}

/* JS-driven class */
.section-title.is-visible {
    opacity: 1;
    transform: translateY(0);
}

/* Metal Shimmer "Surprise Me" */
.section-title::after {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--gradient-metallic);
    background-size: 200% 100%;
    mix-blend-mode: overlay; /* Blends with text color */
    opacity: 0.5;
    animation: metalShimmer 6s linear infinite;
    z-index: 1;
}

@keyframes metalShimmer {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}


/* 8. Responsiveness */
@media (max-width: 768px) {
    .burger-menu-icon {
        top: 20px;
        left: 20px;
    }
    
    .main-nav a {
        font-size: 6vh;
        padding: 10px 20px;
    }

    .section-title {
        font-size: clamp(2.5rem, 15vw, 10rem);
    }
}
